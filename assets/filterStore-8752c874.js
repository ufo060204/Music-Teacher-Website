import{d as g}from"./pinia-ef994b1a.js";import{c}from"./coursesStore-bab8d0e7.js";const l=g("paginationStore",{state:()=>({eachPage:[],pageSize:12,page:{totalPage:0,currentPage:1,pageNumBox:[],hasPrevPage:!1,hasNextPage:!1}}),actions:{pagination(e){this.page.totalPage=Math.ceil(e.length/this.pageSize),this.eachPage=[],this.page.currentPage<1&&(this.page.currentPage=1),this.page.currentPage>this.page.totalPage&&(this.page.currentPage=this.page.totalPage),this.page.hasPrevPage=this.page.currentPage>1,this.page.hasNextPage=this.page.currentPage<this.page.totalPage;const t=this.page.currentPage*this.pageSize-this.pageSize+1,a=this.page.currentPage*this.pageSize;e.forEach((s,h)=>{const o=h+1;o>=t&&o<=a&&this.eachPage.push(s)}),this.showPageBox()},showPageBox(){let t=this.page.currentPage-Math.floor(2.5),a=this.page.currentPage+Math.floor(5/2);t<1&&(t=1,a=5),a>this.page.totalPage&&(a=this.page.totalPage,t=this.page.totalPage-(5-1)),this.page.totalPage<5&&(t=1,a=this.page.totalPage),this.page.pageNumBox=[];for(let s=t;s<=a;s++)this.page.pageNumBox.push(s)}}}),r=c(),i=l(),u=g("filterStore",{state:()=>({selectCourseType:"",selectClassMode:"",selectLocation:"",searchCourse:"",selectSort:""}),actions:{courseSort(){this.selectSort==="金額"?r.AllCourseData.sort((e,t)=>t.data.price-e.data.price):this.selectSort==="新舊"?r.AllCourseData.sort((e,t)=>t.data.startTime-e.data.startTime):this.selectSort==="人氣"&&r.AllCourseData.sort((e,t)=>t.data.buyer.length-e.data.buyer.length)},searchClear(){this.selectCourseType="",this.selectClassMode="",this.selectLocation="",this.searchCourse="",this.selectSort=""}},getters:{filterCourseData(){return this.selectClassMode===""?r.AllCourseData.filter(e=>e.data.type.match(this.selectCourseType)&&e.data.location.match(this.selectLocation)&&e.data.name.match(this.searchCourse)):r.AllCourseData.filter(e=>e.data.type.match(this.selectCourseType)&&e.data.location.match(this.selectLocation)&&e.data.name.match(this.searchCourse)&&e.data.classMode.includes(this.selectClassMode))},pageCourseData(){return i.pagination(this.filterCourseData),i.eachPage}}});export{u as f,l as p};

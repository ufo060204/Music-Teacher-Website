import{a as g,m as w,b as B}from"./pinia-ef994b1a.js";import{u as N}from"./userStore-b8676952.js";import{c as y}from"./coursesStore-2e6092fc.js";import{c as T}from"./cartStore-cf6bbf85.js";import{bf as $,aq as a,n as i,t as O,aC as m,v as c,ba as _,F as D,aA as P,au as q,ar as j,o as s,aa as f,bc as z,u as h,l as E,m as b,aQ as d}from"./_plugin-vue_export-helper-ec969899.js";import{S as F,a as W}from"./free-mode.min-5e8e3a80.js";import{_ as A}from"./default-user-photo-5f1f51b0.js";import{t as k}from"./teacherStore-08442fd4.js";import{l as H,n as L}from"./runtime-dom.esm-bundler-e62d4d3a.js";import"./index.esm2017-5c222d47.js";import"./index.browser.esm2017-d05d7c62.js";import"./_commonjsHelpers-87174ba5.js";import"./update-swiper-3bad1b5e.js";const Q={},R={class:"container"},G=O('<div class="row mb-64"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div><div class="row mb-64"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div><div class="row"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div>',3),J=[G];function K(e,o){return a(),i("div",R,J)}const X=$(Q,[["render",K]]);const Y={components:{Swiper:F,SwiperSlide:W},setup(){return{}},computed:{},methods:{},created(){}},Z=e=>(q("data-v-0f5edc72"),e=e(),j(),e),ss={class:"container"},es=Z(()=>s("div",{class:"card rounded-3 shadow-sm"},[s("div",{class:"card-body"},[s("div",{class:"d-flex align-items-center"},[s("div",{class:"me-8"},[s("img",{src:A,alt:"預設用戶照片",class:"user-photo"})]),s("div",{class:""},[s("div",null,[s("span",{class:"fw-bold me-8"},"王小明"),s("span",null,"2023-08-09")]),s("div",{class:"text-warning"},[s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"})])])]),s("div",null,[s("p",{class:"fw-bold my-2"},"推薦給所有想學音樂的同學"),s("p",null," 這個音樂家教課程真是太棒了！老師不僅專業且充滿耐心，每次上課都讓我深刻理解音樂的精髓。透過個人指導，我不僅學會了演奏技巧，還能自信地創作自己的音樂作品。感謝老師用心的教學，讓我愛上了音樂，這是一段美妙的學習旅程！ ")])])],-1));function os(e,o,V,C,I,S){const u=m("SwiperSlide"),r=m("swiper");return a(),i("div",ss,[c(r,{loop:!0,slidesPerView:1,spaceBetween:20,freeMode:!0,pagination:{clickable:!0},navigation:"",breakpoints:{576:{slidesPerView:1,spaceBetween:26},768:{slidesPerView:2,spaceBetween:26},992:{slidesPerView:2,spaceBetween:26},1400:{slidesPerView:3,spaceBetween:26}},class:"mySwiper px-24"},{default:_(()=>[(a(),i(D,null,P(5,v=>c(u,{key:v,class:"mb-32"},{default:_(()=>[es]),_:2},1024)),64))]),_:1})])}const ts=$(Y,[["render",os],["__scopeId","data-v-0f5edc72"]]),as={methods:{...g(k,["updateImg","beforeUpdate","imgHandle"]),...g(y,["updateCourseData"])},computed:{...w(k,["teacherData.courseImg"]),...B(k,["teacherData"]),...B(y,["courseDetails"])}},ls={id:"EditCourseModal",ref:"EditCourseModal",class:"modal fade",tabindex:"-1","aria-labelledby":"EditCourseModalLabel","aria-hidden":"true"},is={class:"modal-dialog"},ds={class:"modal-content border-0"},cs=s("div",{class:"modal-header bg-dark text-white"},[s("h4",null,"編輯課程資料")],-1),ns={class:"modal-body"},rs={class:"row mb-4"},ms=s("div",{class:"col-auto"},[s("label",{for:"name",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),h("課程名稱")])],-1),us={class:"col-8 col-lg-6"},ps={class:"row mb-4"},_s=s("div",{class:"col-auto"},[s("label",{for:"price",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),h("課程費用")])],-1),hs={class:"col-8 col-lg-6"},bs={class:"row mb-4"},fs=s("div",{class:"col-auto"},[s("label",{for:"type",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),h("教學項目")])],-1),vs={class:"col-8 col-lg-6"},gs=s("option",{value:"",selected:"",disabled:""},"請選擇教學項目",-1),ws=s("option",{value:"電吉他"},"電吉他",-1),ys=s("option",{value:"電貝斯"},"電貝斯",-1),$s=s("option",{value:"爵士鼓"},"爵士鼓",-1),ks={class:"row mb-4"},Ds=s("div",{class:"col-auto"},[s("label",{for:"time",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),h("授課時間")])],-1),Vs={class:"col-8 col-lg-6"},Cs={class:"mb-3"},Is=s("label",{for:"intro",class:"form-label"},"課程介紹",-1),Ss={class:"row"},xs=s("div",{class:"col-6"},[s("label",{for:"courseImg",class:"form-label",accept:"image/png ,image/jpg"},"上傳一張課程封面照")],-1),Ms={class:"col-6"},Us={class:"text-center mb-16"},Bs=["src"],Ns=["src"],Ts=s("div",{class:"text-end"},[s("button",{type:"button",class:"btn btn-outline-secondary rounded-4 me-4","data-bs-dismiss":"modal"}," 取消 "),s("button",{type:"submit",class:"btn btn-primary rounded-4","data-bs-dismiss":"modal"}," 確認 ")],-1),Es=s("div",{class:"modal-footer"},null,-1);function Ls(e,o,V,C,I,S){const u=m("v-field"),r=m("error-message"),v=m("v-form");return a(),i("div",ls,[s("div",is,[s("div",ds,[cs,s("div",ns,[c(v,{ref:"form",class:"border border-text-dark p-6 fw-bold",onSubmit:o[6]||(o[6]=p=>e.updateCourseData(e.courseDetails.data.courseId))},{default:_(({errors:p})=>[s("div",rs,[ms,s("div",us,[c(u,{id:"name",name:"課程名稱",type:"text",class:f(["form-control",{"is-invalid":p.課程名稱}]),placeholder:"請輸入課程名稱",rules:"required|min:3|max:20",modelValue:e.courseDetails.data.name,"onUpdate:modelValue":o[0]||(o[0]=n=>e.courseDetails.data.name=n)},null,8,["class","modelValue"]),c(r,{name:"課程名稱",class:"invalid-feedback"})])]),s("div",ps,[_s,s("div",hs,[c(u,{id:"price",name:"課程費用",type:"number",class:f(["form-control",{"is-invalid":p.課程費用}]),placeholder:"請輸入課程費用",rules:"required|min_value:100|max_value:100000",modelValue:e.courseDetails.data.price,"onUpdate:modelValue":o[1]||(o[1]=n=>e.courseDetails.data.price=n)},null,8,["class","modelValue"]),c(r,{name:"課程費用",class:"invalid-feedback"})])]),s("div",bs,[fs,s("div",vs,[c(u,{id:"type",name:"教學項目",as:"select",class:f(["form-select",{"is-invalid":p.教學項目}]),rules:"required",modelValue:e.courseDetails.data.type,"onUpdate:modelValue":o[2]||(o[2]=n=>e.courseDetails.data.type=n)},{default:_(()=>[gs,ws,ys,$s]),_:2},1032,["class","modelValue"]),c(r,{name:"教學項目",class:"invalid-feedback"})])]),s("div",ks,[Ds,s("div",Vs,[c(u,{id:"time",name:"授課時間",type:"number",class:f(["form-control",{"is-invalid":p.授課時間}]),placeholder:"請輸入授課時間(分)",rules:"required|min_value:30|max_value:600",modelValue:e.courseDetails.data.time,"onUpdate:modelValue":o[3]||(o[3]=n=>e.courseDetails.data.time=n)},null,8,["class","modelValue"]),c(r,{name:"授課時間",class:"invalid-feedback"})])]),s("div",Cs,[Is,z(s("textarea",{id:"intro",class:f(["form-control",{"is-invalid":p.課程介紹}]),placeholder:"請輸入課程介紹，限定300字",rules:"required|max:300",cols:"30",rows:"10","onUpdate:modelValue":o[4]||(o[4]=n=>e.courseDetails.data.courseIntro=n)},`<error-message\r
              name="課程介紹"\r
              class="invalid-feedback"\r
            ></error-message>\r
            `,2),[[H,e.courseDetails.data.courseIntro]])]),s("div",Ss,[xs,s("div",Ms,[s("input",{class:"form-control",type:"file",id:"courseImg",onChange:o[5]||(o[5]=n=>e.updateImg("course",n))},null,32)])]),s("div",Us,[e.teacherData.courseImg!==""?(a(),i("img",{key:0,class:"img-fluid",src:e.teacherData.courseImg,alt:"課程照片"},null,8,Bs)):(a(),i("img",{key:1,class:"img-fluid",src:e.courseDetails.data.courseImg,alt:"課程照片"},null,8,Ns))]),Ts]),_:1},512)]),Es])])],512)}const Ps=$(as,[["render",Ls]]);const qs={data(){return{}},components:{EditCourseModal:Ps,ListPlaceholder:X,CommentSwiper:ts},methods:{...g(T,["addToCart","getUid"]),...g(y,["getCourseDetails","getSuggestCourses"]),...g(N,["checkMemberObserver","addToCollection","toggleCollection","checkMemberObserver"])},computed:{...w(y,["courseDetails","courseViewDetails","AllCourseData","isLoading","suggestCourses"]),...w(T,["uid","cart"]),...w(N,["uid","collectionStatus","isMember"])},watch:{"$route.params.id":{handler(e){this.courseId=e,this.courseId&&this.getCourseDetails(this.courseId)}}},created(){this.checkMemberObserver(),this.courseId=this.$route.params.id,console.log("這是 courseId",this.courseId),this.getCourseDetails(this.courseId),this.getSuggestCourses()}},t=e=>(q("data-v-96ec2a8f"),e=e(),j(),e),js={key:1,class:"mt-66"},As={class:"container py-32"},Os={class:"d-flex align-items-end"},zs={"aria-label":"breadcrumb"},Fs={class:"breadcrumb"},Ws={class:"breadcrumb-item"},Hs={class:"breadcrumb-item"},Qs=t(()=>s("li",{class:"breadcrumb-item active","aria-current":"page"},"單一課程",-1)),Rs={class:"row mb-16 mb-lg-32"},Gs={class:"col-12 col-lg-8 mb-32 mb-lg-0"},Js={class:"pe-xl-48"},Ks=["src"],Xs={class:"col-12 col-lg-4 d-flex flex-column"},Ys={class:"fs-2 fw-bold"},Zs={class:"mt-16 text-grey-bold"},se={class:"material-icons-outlined"},ee=t(()=>s("span",null,"收藏",-1)),oe={class:"row align-items-start"},te={class:"col-12 col-lg-8"},ae={class:"row align-items-center mb-16"},le={class:"col-auto cursor-pointer"},ie=["src"],de={key:1,class:"h-100px w-100px rounded-circle object-fit-cover",src:A,alt:"老師照片"},ce={class:"col-auto fs-2"},ne={class:"row mb-32"},re={class:"col-12 col-lg-10"},me=t(()=>s("p",{class:"fs-4 mb-16 fw-bold"},"關於課程",-1)),ue={class:"row mb-16 g-16"},pe={class:"col-auto"},_e={class:"d-flex align-items-center"},he=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"timer",-1)),be=t(()=>s("p",{class:"text-grey-bold fs-7"},"課程時長",-1)),fe={class:"fs-6 fw-bold"},ve={class:"col-auto"},ge={class:"d-flex align-items-center"},we=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"group",-1)),ye=t(()=>s("p",{class:"text-grey-bold fs-7"},"被購買數",-1)),$e={class:"fs-6 fw-bold"},ke={class:"col-auto"},De={class:"d-flex align-items-center"},Ve=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"map",-1)),Ce=t(()=>s("p",{class:"text-grey-bold fs-7"},"上課地點",-1)),Ie={class:"fs-6 fw-bold"},Se={class:"col-12 col-xl-auto"},xe={class:"d-flex align-items-center"},Me=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"school",-1)),Ue=t(()=>s("p",{class:"text-grey-bold fs-7"},"上課方式",-1)),Be={class:"fs-6 bg-primary rounded px-2 fw-bold me-8"},Ne={key:0,class:"col-12 col-lg-4 position-sticky top-100px"},Te={class:"p-32 border rounded-4"},Ee=t(()=>s("h4",{class:"border-bottom pb-24 mb-24"},"購買單堂課程",-1)),Le={class:"mb-16"},Pe=t(()=>s("span",{class:"fs-5 me-16"},"售價",-1)),qe={class:"fs-1"},je={class:"d-flex justify-content-between"},Ae=t(()=>s("span",{class:"material-symbols-outlined fs-3 align-middle"},"shopping_cart",-1)),Oe=[Ae],ze={key:1,class:"col-12 col-lg-4 p-32 position-sticky top-100px border rounded-4"},Fe=t(()=>s("h4",{class:"border-bottom pb-24 mb-24"},"購買人數",-1)),We={class:"mb-16"},He=t(()=>s("span",{class:"fs-5 me-4"},"共 ",-1)),Qe={class:"fs-1"},Re=t(()=>s("div",{class:"d-flex justify-content-between align-items-center"},[s("button",{type:"button",class:"btn btn-outline-primary w-25 rounded-pill","data-bs-toggle":"modal","data-bs-target":"#EditCourseModal"}," 編輯 "),s("span",{class:"text-primary fs-8"},"(課程審核通過後將無法再編輯)")],-1)),Ge={class:"row mb-32 mt-32 mt-lg-0"},Je={class:"col-12 col-lg-8"},Ke=t(()=>s("p",{class:"fs-4 mb-16 fw-bold"},"課程評價",-1)),Xe={class:"row mb-32"},Ye={class:"col-12 col-lg-8"},Ze=t(()=>s("p",{class:"fs-4 mb-16 fw-bold"},"猜你喜歡",-1)),so={class:"row row-cols-lg-1 row-cols-lg-3"},eo={class:"card course-card rounded-4 shadow h-100"},oo={class:"position-relative overflow-hidden rounded-top-4"},to=["src"],ao={key:1,class:"img-fluid transition",src:"https://www.ils.com.tw/zh/Up_files/webskin/RWD/include/images/type3album_blank.png",alt:"課程預設圖片"},lo=["onClick"],io={class:"card-body d-flex flex-column"},co={class:"fs-5 fw-bold d-flex mb-4"},no={class:"fs-6 text-secondary mb-20"},ro={class:"d-flex text-secondary mb-auto"},mo={class:"d-flex align-items-center me-8 position-relative course-card-title"},uo=t(()=>s("span",{class:"material-symbols-outlined fs-6 me-4 lh-24"}," timer ",-1)),po={class:"d-flex align-items-center me-8"},_o=t(()=>s("span",{class:"material-symbols-outlined fs-6 me-4 lh-24"}," map ",-1)),ho={class:"d-flex align-items-center me-8"},bo=t(()=>s("span",{class:"material-symbols-outlined fs-6 me-4 lh-24"}," group ",-1)),fo={key:0},vo={key:1},go={class:"fs-5 fw-bold"};function wo(e,o,V,C,I,S){var n,x,M,U;const u=m("ListPlaceholder"),r=m("router-link"),v=m("CommentSwiper"),p=m("EditCourseModal");return a(),i(D,null,[e.isLoading?(a(),E(u,{key:0,class:"mt-66 py-32"})):b("",!0),e.isLoading?b("",!0):(a(),i("div",js,[s("section",null,[s("div",As,[s("div",Os,[s("nav",zs,[s("ol",Fs,[s("li",Ws,[c(r,{to:"/"},{default:_(()=>[h("首頁")]),_:1})]),s("li",Hs,[c(r,{to:"/courses"},{default:_(()=>[h("所有課程")]),_:1})]),Qs])])]),s("div",Rs,[s("div",Gs,[s("div",Js,[s("img",{class:"h-lg-500 w-100 rounded-4",src:(n=e.courseViewDetails.data)==null?void 0:n.courseImg,alt:"課程圖片"},null,8,Ks)])]),s("div",Xs,[s("h1",Ys,d(e.courseViewDetails.data.name),1),s("p",Zs,d(e.courseViewDetails.data.courseIntro),1),s("button",{type:"button",onClick:o[0]||(o[0]=L(l=>e.toggleCollection(e.courseViewDetails.data.courseId),["prevent"])),class:"btn btn-outline-primary px-16 py-8 mt-auto ms-auto rounded-pill d-flex align-items-center",title:"加入 / 移除收藏"},[s("span",se,d(this.collectionStatus(e.courseViewDetails.data.courseId)),1),ee])])]),s("div",oe,[s("div",te,[s("div",ae,[s("div",le,[e.courseViewDetails.teacherImg?(a(),i("img",{key:0,class:"h-100px w-100px rounded-circle object-fit-cover",src:e.courseViewDetails.teacherImg,alt:"老師照片"},null,8,ie)):(a(),i("img",de))]),s("div",ce,d(e.courseViewDetails.teacherName),1)]),s("div",ne,[s("div",re,d(e.courseViewDetails.teacherIntro),1)]),me,s("div",ue,[s("div",pe,[s("div",_e,[he,s("div",null,[be,s("p",fe,d(e.courseViewDetails.data.time)+"分鐘",1)])])]),s("div",ve,[s("div",ge,[we,s("div",null,[ye,s("p",$e,d((x=e.courseViewDetails.data.buyer)==null?void 0:x.length)+"次",1)])])]),s("div",ke,[s("div",De,[Ve,s("div",null,[Ce,s("p",Ie,d(e.courseViewDetails.data.location),1)])])]),s("div",Se,[s("div",xe,[Me,s("div",null,[Ue,s("p",Be,d((M=e.courseViewDetails.data.classMode)==null?void 0:M[0]),1)])])])])]),e.courseViewDetails.teacherUid!==e.uid?(a(),i("div",Ne,[s("div",Te,[Ee,s("div",Le,[Pe,s("span",qe,"NT$ "+d(e.courseViewDetails.data.price),1)]),s("div",je,[e.isMember?(a(),E(r,{key:0,to:"/cart",onClick:o[1]||(o[1]=l=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn-outline-primary w-75 rounded-pill"},{default:_(()=>[h("立即購買")]),_:1})):b("",!0),e.isMember?b("",!0):(a(),i("button",{key:1,onClick:o[2]||(o[2]=l=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn-outline-primary w-75 rounded-pill"},"立即購買")),s("button",{onClick:o[3]||(o[3]=l=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn btn-primary rounded-pill"},Oe)])])])):b("",!0),e.courseViewDetails.teacherUid===e.uid?(a(),i("div",ze,[Fe,s("div",We,[He,s("span",Qe,d((U=e.courseViewDetails.data.buyer)==null?void 0:U.length)+" 人",1)]),Re])):b("",!0)]),s("div",Ge,[s("div",Je,[Ke,c(v)])]),s("div",Xe,[s("div",Ye,[Ze,s("div",so,[(a(!0),i(D,null,P(this.suggestCourses,l=>(a(),i("div",{key:l.data.courseId,class:"col"},[c(r,{to:`/course/${l.data.courseId}`},{default:_(()=>[s("div",eo,[s("div",oo,[l.data.courseImg?(a(),i("img",{key:0,class:"img-fluid transition",src:l.data.courseImg,alt:"課程圖片"},null,8,to)):(a(),i("img",ao)),s("span",{onClick:L(yo=>e.toggleCollection(l.data.courseId),["prevent"]),class:f(["material-icons-outlined position-absolute bottom-0 end-0 text-primary bookmark-icon",{"h-auto":this.collectionStatus(l.data.courseId)==="bookmark","h-0":this.collectionStatus(l.data.courseId)==="bookmark_border"}]),title:"加入 / 移除收藏"},d(this.collectionStatus(l.data.courseId)),11,lo)]),s("div",io,[s("h2",co,d(l.data.name),1),s("h3",no,"by "+d(l.data.teacherName),1),s("ul",ro,[s("li",mo,[uo,s("p",null,d(l.data.time)+" 分鐘",1)]),s("li",po,[_o,s("p",null,d(l.data.location),1)]),s("li",ho,[bo,l.data.buyer.length===0?(a(),i("span",fo,"0")):(a(),i("span",vo,d(l.data.buyer.length),1))])]),s("span",go,"NT "+d(l.data.price),1)])])]),_:2},1032,["to"])]))),128))])])])])])])),c(p)],64)}const Eo=$(qs,[["render",wo],["__scopeId","data-v-96ec2a8f"]]);export{Eo as default};

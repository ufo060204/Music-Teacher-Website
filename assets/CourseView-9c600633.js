import{a as v,m as g,b as B}from"./pinia-ef994b1a.js";import{u as U}from"./userStore-98549090.js";import{c as w}from"./coursesStore-2385855f.js";import{c as E}from"./cartStore-aa464e26.js";import{bf as y,aq as a,n as c,t as j,aC as r,v as l,ba as u,F as P,aA as A,au as T,ar as N,o as s,aa as f,bc as O,u as _,l as L,m as b,aQ as d}from"./_plugin-vue_export-helper-ec969899.js";import{S as F,a as z}from"./free-mode.min-5e8e3a80.js";import{_ as q}from"./default-user-photo-5f1f51b0.js";import{t as D}from"./teacherStore-5f2638e3.js";import{l as H,n as Q}from"./runtime-dom.esm-bundler-e62d4d3a.js";import"./index.esm2017-bf41c0df.js";import"./index.browser.esm2017-050e3142.js";import"./_commonjsHelpers-87174ba5.js";import"./update-swiper-3bad1b5e.js";const W={},G={class:"container"},J=j('<div class="row mb-64"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div><div class="row mb-64"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div><div class="row"><p class="placeholder-glow"><span class="placeholder col-6"></span></p><p class="placeholder-glow"><span class="placeholder col-12"></span></p><p class="placeholder-glow"><span class="placeholder col-8"></span></p></div>',3),K=[J];function R(e,o){return a(),c("div",G,K)}const X=y(W,[["render",R]]);const Y={components:{Swiper:F,SwiperSlide:z},setup(){return{}},computed:{},methods:{},created(){}},Z=e=>(T("data-v-0f5edc72"),e=e(),N(),e),ss={class:"container"},es=Z(()=>s("div",{class:"card rounded-3 shadow-sm"},[s("div",{class:"card-body"},[s("div",{class:"d-flex align-items-center"},[s("div",{class:"me-8"},[s("img",{src:q,alt:"預設用戶照片",class:"user-photo"})]),s("div",{class:""},[s("div",null,[s("span",{class:"fw-bold me-8"},"王小明"),s("span",null,"2023-08-09")]),s("div",{class:"text-warning"},[s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"}),s("i",{class:"bi bi-star-fill me-4"})])])]),s("div",null,[s("p",{class:"fw-bold my-2"},"推薦給所有想學音樂的同學"),s("p",null," 這個音樂家教課程真是太棒了！老師不僅專業且充滿耐心，每次上課都讓我深刻理解音樂的精髓。透過個人指導，我不僅學會了演奏技巧，還能自信地創作自己的音樂作品。感謝老師用心的教學，讓我愛上了音樂，這是一段美妙的學習旅程！ ")])])],-1));function os(e,o,V,C,k,I){const m=r("SwiperSlide"),n=r("swiper");return a(),c("div",ss,[l(n,{loop:!0,slidesPerView:1,spaceBetween:20,freeMode:!0,pagination:{clickable:!0},navigation:"",breakpoints:{576:{slidesPerView:1,spaceBetween:26},768:{slidesPerView:2,spaceBetween:26},992:{slidesPerView:2,spaceBetween:26},1400:{slidesPerView:3,spaceBetween:26}},class:"mySwiper px-24"},{default:u(()=>[(a(),c(P,null,A(5,h=>l(m,{key:h,class:"mb-32"},{default:u(()=>[es]),_:2},1024)),64))]),_:1})])}const ts=y(Y,[["render",os],["__scopeId","data-v-0f5edc72"]]),as={methods:{...v(D,["updateImg","beforeUpdate","imgHandle"]),...v(w,["updateCourseData"])},computed:{...g(D,["teacherData.courseImg"]),...B(D,["teacherData"]),...B(w,["courseDetails"])}},ls={id:"EditCourseModal",ref:"EditCourseModal",class:"modal fade",tabindex:"-1","aria-labelledby":"EditCourseModalLabel","aria-hidden":"true"},is={class:"modal-dialog"},cs={class:"modal-content border-0"},ds=s("div",{class:"modal-header bg-dark text-white"},[s("h4",null,"編輯課程資料")],-1),ns={class:"modal-body"},rs={class:"row mb-4"},ms=s("div",{class:"col-auto"},[s("label",{for:"name",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),_("課程名稱")])],-1),ps={class:"col-8 col-lg-6"},us={class:"row mb-4"},_s=s("div",{class:"col-auto"},[s("label",{for:"price",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),_("課程費用")])],-1),bs={class:"col-8 col-lg-6"},hs={class:"row mb-4"},fs=s("div",{class:"col-auto"},[s("label",{for:"type",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),_("教學項目")])],-1),vs={class:"col-8 col-lg-6"},gs=s("option",{value:"",selected:"",disabled:""},"請選擇教學項目",-1),ws=s("option",{value:"電吉他"},"電吉他",-1),ys=s("option",{value:"電貝斯"},"電貝斯",-1),$s=s("option",{value:"爵士鼓"},"爵士鼓",-1),Ds={class:"row mb-4"},Vs=s("div",{class:"col-auto"},[s("label",{for:"time",class:"col-form-label px-4"},[s("span",{class:"text-danger"},"*"),_("授課時間")])],-1),Cs={class:"col-8 col-lg-6"},ks={class:"mb-3"},Is=s("label",{for:"intro",class:"form-label"},"課程介紹",-1),Ss={class:"row"},Ms=s("div",{class:"col-6"},[s("label",{for:"courseImg",class:"form-label",accept:"image/png ,image/jpg"},"上傳一張課程封面照")],-1),xs={class:"col-6"},Bs={class:"text-center mb-16"},Us=["src"],Es=["src"],Ls=s("div",{class:"text-end"},[s("button",{type:"button",class:"btn btn-outline-secondary rounded-4 me-4","data-bs-dismiss":"modal"}," 取消 "),s("button",{type:"submit",class:"btn btn-primary rounded-4","data-bs-dismiss":"modal"}," 確認 ")],-1),Ps=s("div",{class:"modal-footer"},null,-1);function Ts(e,o,V,C,k,I){const m=r("v-field"),n=r("error-message"),h=r("v-form");return a(),c("div",ls,[s("div",is,[s("div",cs,[ds,s("div",ns,[l(h,{ref:"form",class:"border border-text-dark p-6 fw-bold",onSubmit:o[6]||(o[6]=p=>e.updateCourseData(e.courseDetails.data.courseId))},{default:u(({errors:p})=>[s("div",rs,[ms,s("div",ps,[l(m,{id:"name",name:"課程名稱",type:"text",class:f(["form-control",{"is-invalid":p.課程名稱}]),placeholder:"請輸入課程名稱",rules:"required|min:3|max:20",modelValue:e.courseDetails.data.name,"onUpdate:modelValue":o[0]||(o[0]=i=>e.courseDetails.data.name=i)},null,8,["class","modelValue"]),l(n,{name:"課程名稱",class:"invalid-feedback"})])]),s("div",us,[_s,s("div",bs,[l(m,{id:"price",name:"課程費用",type:"number",class:f(["form-control",{"is-invalid":p.課程費用}]),placeholder:"請輸入課程費用",rules:"required|min_value:100|max_value:100000",modelValue:e.courseDetails.data.price,"onUpdate:modelValue":o[1]||(o[1]=i=>e.courseDetails.data.price=i)},null,8,["class","modelValue"]),l(n,{name:"課程費用",class:"invalid-feedback"})])]),s("div",hs,[fs,s("div",vs,[l(m,{id:"type",name:"教學項目",as:"select",class:f(["form-select",{"is-invalid":p.教學項目}]),rules:"required",modelValue:e.courseDetails.data.type,"onUpdate:modelValue":o[2]||(o[2]=i=>e.courseDetails.data.type=i)},{default:u(()=>[gs,ws,ys,$s]),_:2},1032,["class","modelValue"]),l(n,{name:"教學項目",class:"invalid-feedback"})])]),s("div",Ds,[Vs,s("div",Cs,[l(m,{id:"time",name:"授課時間",type:"number",class:f(["form-control",{"is-invalid":p.授課時間}]),placeholder:"請輸入授課時間(分)",rules:"required|min_value:30|max_value:600",modelValue:e.courseDetails.data.time,"onUpdate:modelValue":o[3]||(o[3]=i=>e.courseDetails.data.time=i)},null,8,["class","modelValue"]),l(n,{name:"授課時間",class:"invalid-feedback"})])]),s("div",ks,[Is,O(s("textarea",{id:"intro",class:f(["form-control",{"is-invalid":p.課程介紹}]),placeholder:"請輸入課程介紹，限定300字",rules:"required|max:300",cols:"30",rows:"10","onUpdate:modelValue":o[4]||(o[4]=i=>e.courseDetails.data.courseIntro=i)},`<error-message\r
              name="課程介紹"\r
              class="invalid-feedback"\r
            ></error-message>\r
            `,2),[[H,e.courseDetails.data.courseIntro]])]),s("div",Ss,[Ms,s("div",xs,[s("input",{class:"form-control",type:"file",id:"courseImg",onChange:o[5]||(o[5]=i=>e.updateImg("course",i))},null,32)])]),s("div",Bs,[e.teacherData.courseImg!==""?(a(),c("img",{key:0,class:"img-fluid",src:e.teacherData.courseImg,alt:"課程照片"},null,8,Us)):(a(),c("img",{key:1,class:"img-fluid",src:e.courseDetails.data.courseImg,alt:"課程照片"},null,8,Es))]),Ls]),_:1},512)]),Ps])])],512)}const Ns=y(as,[["render",Ts]]);const qs={data(){return{}},components:{EditCourseModal:Ns,ListPlaceholder:X,CommentSwiper:ts},methods:{...v(E,["addToCart","getUid"]),...v(w,["getCourseDetails"]),...v(U,["checkMemberObserver","addToCollection","toggleCollection","checkMemberObserver"])},computed:{...g(w,["courseDetails","courseViewDetails","AllCourseData","isLoading"]),...g(E,["uid","cart"]),...g(U,["uid","collectionStatus","isMember"])},watch:{},created(){this.checkMemberObserver(),this.courseId=this.$route.params.id,console.log("這是 courseId",this.courseId),this.getCourseDetails(this.courseId)}},t=e=>(T("data-v-c6c80a3e"),e=e(),N(),e),js={key:1,class:"mt-66"},As={class:"container py-32"},Os={class:"d-flex align-items-end"},Fs={"aria-label":"breadcrumb"},zs={class:"breadcrumb"},Hs={class:"breadcrumb-item"},Qs={class:"breadcrumb-item"},Ws=t(()=>s("li",{class:"breadcrumb-item active","aria-current":"page"},"單一課程",-1)),Gs={class:"row mb-16 mb-lg-32"},Js={class:"col-12 col-lg-8 mb-32 mb-lg-0"},Ks={class:"pe-xl-48"},Rs=["src"],Xs={class:"col-12 col-lg-4 d-flex flex-column"},Ys={class:"fs-2 fw-bold"},Zs={class:"mt-16 text-grey-bold"},se={class:"material-icons-outlined"},ee=t(()=>s("span",null,"收藏",-1)),oe={class:"row align-items-start"},te={class:"col-12 col-lg-8"},ae={class:"row align-items-center mb-16"},le={class:"col-auto cursor-pointer"},ie=["src"],ce={key:1,class:"h-100px w-100px rounded-circle object-fit-cover",src:q,alt:"老師照片"},de={class:"col-auto fs-2"},ne={class:"row mb-32"},re={class:"col-12 col-lg-10"},me=t(()=>s("p",{class:"fs-4 mb-16 fw-bold"},"關於課程",-1)),pe={class:"row mb-16 g-16"},ue={class:"col-auto"},_e={class:"d-flex align-items-center"},be=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"timer",-1)),he=t(()=>s("p",{class:"text-grey-bold fs-7"},"課程時長",-1)),fe={class:"fs-6 fw-bold"},ve={class:"col-auto"},ge={class:"d-flex align-items-center"},we=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"group",-1)),ye=t(()=>s("p",{class:"text-grey-bold fs-7"},"被購買數",-1)),$e={class:"fs-6 fw-bold"},De={class:"col-auto"},Ve={class:"d-flex align-items-center"},Ce=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"map",-1)),ke=t(()=>s("p",{class:"text-grey-bold fs-7"},"上課地點",-1)),Ie={class:"fs-6 fw-bold"},Se={class:"col-12 col-xl-auto"},Me={class:"d-flex align-items-center"},xe=t(()=>s("span",{class:"material-symbols-outlined fs-1 me-8"},"school",-1)),Be=t(()=>s("p",{class:"text-grey-bold fs-7"},"上課方式",-1)),Ue={class:"fs-6 bg-primary rounded px-2 fw-bold me-8"},Ee={key:0,class:"col-12 col-lg-4 position-sticky top-100px"},Le={class:"p-32 border rounded-4"},Pe=t(()=>s("h4",{class:"border-bottom pb-24 mb-24"},"購買單堂課程",-1)),Te={class:"mb-16"},Ne=t(()=>s("span",{class:"fs-5 me-16"},"售價",-1)),qe={class:"fs-1"},je={class:"d-flex justify-content-between"},Ae=t(()=>s("span",{class:"material-symbols-outlined fs-3 align-middle"},"shopping_cart",-1)),Oe=[Ae],Fe={key:1,class:"col-12 col-lg-4 p-32 position-sticky top-100px border rounded-4"},ze=t(()=>s("h4",{class:"border-bottom pb-24 mb-24"},"購買人數",-1)),He={class:"mb-16"},Qe=t(()=>s("span",{class:"fs-5 me-4"},"共 ",-1)),We={class:"fs-1"},Ge=t(()=>s("div",{class:"d-flex justify-content-between align-items-center"},[s("button",{type:"button",class:"btn btn-outline-primary w-25 rounded-pill","data-bs-toggle":"modal","data-bs-target":"#EditCourseModal"}," 編輯 "),s("span",{class:"text-primary fs-8"},"(課程審核通過後將無法再編輯)")],-1)),Je={class:"row mb-32 mt-32 mt-lg-0"},Ke={class:"col-12 col-lg-8"},Re=t(()=>s("p",{class:"fs-4 mb-16 fw-bold"},"課程評價",-1));function Xe(e,o,V,C,k,I){var i,S,M,x;const m=r("ListPlaceholder"),n=r("router-link"),h=r("CommentSwiper"),p=r("EditCourseModal");return a(),c(P,null,[e.isLoading?(a(),L(m,{key:0,class:"mt-66"})):b("",!0),e.isLoading?b("",!0):(a(),c("div",js,[s("section",null,[s("div",As,[s("div",Os,[s("nav",Fs,[s("ol",zs,[s("li",Hs,[l(n,{to:"/"},{default:u(()=>[_("首頁")]),_:1})]),s("li",Qs,[l(n,{to:"/courses"},{default:u(()=>[_("所有課程")]),_:1})]),Ws])])]),s("div",Gs,[s("div",Js,[s("div",Ks,[s("img",{class:"h-lg-500 w-100 rounded-4",src:(i=e.courseViewDetails.data)==null?void 0:i.courseImg,alt:"課程圖片"},null,8,Rs)])]),s("div",Xs,[s("h1",Ys,d(e.courseViewDetails.data.name),1),s("p",Zs,d(e.courseViewDetails.data.courseIntro),1),s("button",{type:"button",onClick:o[0]||(o[0]=Q($=>e.toggleCollection(e.courseViewDetails.data.courseId),["prevent"])),class:"btn btn-outline-primary px-16 py-8 mt-auto ms-auto rounded-pill d-flex align-items-center",title:"加入 / 移除收藏"},[s("span",se,d(this.collectionStatus(e.courseViewDetails.data.courseId)),1),ee])])]),s("div",oe,[s("div",te,[s("div",ae,[s("div",le,[e.courseViewDetails.teacherImg?(a(),c("img",{key:0,class:"h-100px w-100px rounded-circle object-fit-cover",src:e.courseViewDetails.teacherImg,alt:"老師照片"},null,8,ie)):(a(),c("img",ce))]),s("div",de,d(e.courseViewDetails.teacherName),1)]),s("div",ne,[s("div",re,d(e.courseViewDetails.teacherIntro),1)]),me,s("div",pe,[s("div",ue,[s("div",_e,[be,s("div",null,[he,s("p",fe,d(e.courseViewDetails.data.time)+"分鐘",1)])])]),s("div",ve,[s("div",ge,[we,s("div",null,[ye,s("p",$e,d((S=e.courseViewDetails.data.buyer)==null?void 0:S.length)+"次",1)])])]),s("div",De,[s("div",Ve,[Ce,s("div",null,[ke,s("p",Ie,d(e.courseViewDetails.data.location),1)])])]),s("div",Se,[s("div",Me,[xe,s("div",null,[Be,s("p",Ue,d((M=e.courseViewDetails.data.classMode)==null?void 0:M[0]),1)])])])])]),e.courseViewDetails.teacherUid!==e.uid?(a(),c("div",Ee,[s("div",Le,[Pe,s("div",Te,[Ne,s("span",qe,"NT$ "+d(e.courseViewDetails.data.price),1)]),s("div",je,[e.isMember?(a(),L(n,{key:0,to:"/cart",onClick:o[1]||(o[1]=$=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn-outline-primary w-75 rounded-pill"},{default:u(()=>[_("立即購買")]),_:1})):b("",!0),e.isMember?b("",!0):(a(),c("button",{key:1,onClick:o[2]||(o[2]=$=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn-outline-primary w-75 rounded-pill"},"立即購買")),s("button",{onClick:o[3]||(o[3]=$=>e.addToCart(e.courseViewDetails.data.courseId)),type:"button",class:"btn btn btn-primary rounded-pill"},Oe)])])])):b("",!0),e.courseViewDetails.teacherUid===e.uid?(a(),c("div",Fe,[ze,s("div",He,[Qe,s("span",We,d((x=e.courseViewDetails.data.buyer)==null?void 0:x.length)+" 人",1)]),Ge])):b("",!0)]),s("div",Je,[s("div",Ke,[Re,l(h)])])])])])),l(p)],64)}const po=y(qs,[["render",Xe],["__scopeId","data-v-c6c80a3e"]]);export{po as default};
